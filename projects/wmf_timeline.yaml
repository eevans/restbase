paths:
  /{api:v1}:
    x-modules:
        # swagger options, overriding the shared ones from the merged specs (?)
      - spec:
          info:
            version: 1.0.0
            title: Wikimedia REST API
            description: >
                This API provides cacheable and straightforward access to
                Wikimedia content and data, in machine-readable formats. Each
                entry point has explicit stability markers to inform you about
                development status and change policy, according to [our API
                version policy](https://www.mediawiki.org/wiki/API_versioning).

                See https://www.mediawiki.org/wiki/REST_API for background and details.

                ### High-volume access
                  - Limit your clients to no more than 200 requests/s to this API.
                  - Set a unique `User-Agent` or `Api-User-Agent` header that
                    allows us to contact you quickly. Email addresses or URLs
                    of contact pages work well.

                By using this API, you agree to Wikimedia's 
                [Terms of Use](https://wikimediafoundation.org/wiki/Terms_of_Use) and
                [Privacy Policy](https://wikimediafoundation.org/wiki/Privacy_policy), and
                you irrevocably agree to release modifications or additions
                made through this API under the 
                [CC-BY-SA 3.0](https://creativecommons.org/licenses/by-sa/3.0/) 
                License and the [GFDL](https://www.gnu.org/copyleft/fdl.html).

            termsOfService: https://wikimediafoundation.org/wiki/Terms_of_Use
            contact:
              name: the Wikimedia Services team
              url: http://mediawiki.org/wiki/RESTBase
            license:
              name: Apache2
              url: http://www.apache.org/licenses/LICENSE-2.0
          paths:
            /timeline:
              x-modules:
                - path: v1/timeline.yaml
                  options: '{{options.timeline}}'
        options: '{{options}}'

  /{api:sys}:
    x-modules:
      - spec:
          paths:
            /table: &sys_table
              x-modules:
                - path: sys/table.js
                  options:
                    conf: '{{options.table}}'
            /key_value: &sys_key_value
              x-modules:
                - path: sys/key_value.js
        options: '{{options}}'
